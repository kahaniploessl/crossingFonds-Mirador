{"version":3,"sources":["../node_modules/mirador/dist/es/src/components/GalleryViewThumbnail.js","../node_modules/mirador/dist/es/src/containers/GalleryViewThumbnail.js","../node_modules/mirador/dist/es/src/components/GalleryView.js","../node_modules/mirador/dist/es/src/containers/GalleryView.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["_react","_interopRequireWildcard","require","_Avatar","_interopRequireDefault","_Chip","_CommentSharp","_SearchSharp","_classnames","_reactIntersectionObserver","_MiradorCanvas","_IIIFThumbnail","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","GalleryViewThumbnail","_Component","_super","_this","state","requestedAnnotations","handleSelect","bind","handleKey","handleIntersection","_this$props","canvas","selected","setCanvas","focusOnCanvas","id","event","_this$props2","keys","enter","space","chars","enterOrSpace","which","_ref","isIntersecting","_this$props3","annotationsCount","requestCanvasAnnotations","undefined","setState","render","_this$props4","searchAnnotationsCount","classes","config","miradorCanvas","MiradorCanvas","React","createElement","IntersectionObserver","onChange","index","className","classNames","galleryViewItem","hasAnnotations","onClick","onKeyUp","role","tabIndex","IIIFThumbnail","resource","labelled","variant","maxWidth","width","maxHeight","height","style","margin","concat","Math","ceil","aspectRatio","chips","Chip","avatar","Avatar","circle","avatarIcon","SearchIcon","fontSize","label","searchChip","size","AnnotationIcon","annotationIcon","annotationsChip","Component","exports","defaultProps","_redux","_reactRedux","_flatten","_styles","actions","_GalleryViewThumbnail","_selectors","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","_objectSpread","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","styles","theme","typography","caption","backgroundColor","opacity","position","right","textAlign","top","border","palette","action","primary","main","outline","hover","cursor","display","spacing","minWidth","overflow","padding","highlights","marginTop","mapStateToProps","windowId","currentCanvas","getCurrentCanvas","searchAnnotations","getSearchAnnotationsForWindow","canvasAnnotations","flatten","map","a","resources","targetId","hasOpenAnnotationsWindow","getCompanionWindowsForContent","content","annotations","getPresentAnnotationsOnSelectedCanvases","canvasId","reduce","v","r","getConfig","galleryView","mapDispatchToProps","dispatch","_ref2","setWindowViewType","_len","args","Array","_key","enhance","compose","connect","withStyles","_default","_Paper","GalleryView","canvases","viewingDirection","htmlDir","Paper","component","dir","square","elevation","galleryContainer","_withPlugins","_GalleryView","getCanvases","getSequenceViewingDirection","alignItems","flexDirection","flexWrap","overflowX","overflowY","withPlugins","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","isArray","Function","deps","cached","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,aAAA,GAAAF,sBAAA,CAAAF,OAAA;AACA,IAAAK,YAAA,GAAAH,sBAAA,CAAAF,OAAA;AACA,IAAAM,WAAA,GAAAJ,sBAAA,CAAAF,OAAA;AACAA,OAAA;AAEA,IAAAO,0BAAA,GAAAL,sBAAA,CAAAF,OAAA;AACA,IAAAQ,cAAA,GAAAN,sBAAA,CAAAF,OAAA;AACA,IAAAS,cAAA,GAAAP,sBAAA,CAAAF,OAAA;AAAwD,SAAAE,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAf,wBAAAW,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AA9BxD,SAASW,eAAeA,CAACC,QAAQ,EAAEC,WAAW,EAAE;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAW,CAAC,EAAE;IAAE,MAAM,IAAIC,SAAS,CAAC,mCAAmC,CAAC;EAAE;AAAE;AAExJ,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAC,CAAC;IAAEE,UAAU,CAACC,UAAU,GAAGD,UAAU,CAACC,UAAU,IAAI,KAAK;IAAED,UAAU,CAACE,YAAY,GAAG,IAAI;IAAE,IAAI,OAAO,IAAIF,UAAU,EAAEA,UAAU,CAACG,QAAQ,GAAG,IAAI;IAAErB,MAAM,CAACC,cAAc,CAACa,MAAM,EAAEI,UAAU,CAACf,GAAG,EAAEe,UAAU,CAAC;EAAE;AAAE;AAE5T,SAASI,YAAYA,CAACX,WAAW,EAAEY,UAAU,EAAEC,WAAW,EAAE;EAAE,IAAID,UAAU,EAAEV,iBAAiB,CAACF,WAAW,CAACP,SAAS,EAAEmB,UAAU,CAAC;EAAE,IAAIC,WAAW,EAAEX,iBAAiB,CAACF,WAAW,EAAEa,WAAW,CAAC;EAAE,OAAOb,WAAW;AAAE;AAEtN,SAASc,SAASA,CAACC,QAAQ,EAAEC,UAAU,EAAE;EAAE,IAAI,OAAOA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,IAAI,EAAE;IAAE,MAAM,IAAIf,SAAS,CAAC,oDAAoD,CAAC;EAAE;EAAEc,QAAQ,CAACtB,SAAS,GAAGJ,MAAM,CAAC4B,MAAM,CAACD,UAAU,IAAIA,UAAU,CAACvB,SAAS,EAAE;IAAEyB,WAAW,EAAE;MAAEC,KAAK,EAAEJ,QAAQ;MAAEL,QAAQ,EAAE,IAAI;MAAED,YAAY,EAAE;IAAK;EAAE,CAAC,CAAC;EAAE,IAAIO,UAAU,EAAEI,eAAe,CAACL,QAAQ,EAAEC,UAAU,CAAC;AAAE;AAEhY,SAASI,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAAEF,eAAe,GAAG/B,MAAM,CAACkC,cAAc,IAAI,SAASH,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;IAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;IAAE,OAAOD,CAAC;EAAE,CAAC;EAAE,OAAOD,eAAe,CAACC,CAAC,EAAEC,CAAC,CAAC;AAAE;AAEzK,SAASG,YAAYA,CAACC,OAAO,EAAE;EAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAE;EAAE,OAAO,SAASC,oBAAoBA,CAAA,EAAG;IAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAO,CAAC;MAAEM,MAAM;IAAE,IAAIL,yBAAyB,EAAE;MAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAI,CAAC,CAACb,WAAW;MAAEc,MAAM,GAAGE,OAAO,CAACC,SAAS,CAACL,KAAK,EAAEM,SAAS,EAAEH,SAAS,CAAC;IAAE,CAAC,MAAM;MAAED,MAAM,GAAGF,KAAK,CAACO,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC;IAAE;IAAE,OAAOE,0BAA0B,CAAC,IAAI,EAAEN,MAAM,CAAC;EAAE,CAAC;AAAE;AAExa,SAASM,0BAA0BA,CAACC,IAAI,EAAE5C,IAAI,EAAE;EAAE,IAAIA,IAAI,KAAK,OAAOA,IAAI,KAAK,QAAQ,IAAI,OAAOA,IAAI,KAAK,UAAU,CAAC,EAAE;IAAE,OAAOA,IAAI;EAAE,CAAC,MAAM,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;IAAE,MAAM,IAAIM,SAAS,CAAC,0DAA0D,CAAC;EAAE;EAAE,OAAOuC,sBAAsB,CAACD,IAAI,CAAC;AAAE;AAE7R,SAASC,sBAAsBA,CAACD,IAAI,EAAE;EAAE,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;IAAE,MAAM,IAAIE,cAAc,CAAC,2DAA2D,CAAC;EAAE;EAAE,OAAOF,IAAI;AAAE;AAErK,SAASX,yBAAyBA,CAAA,EAAG;EAAE,IAAI,OAAOM,OAAO,KAAK,WAAW,IAAI,CAACA,OAAO,CAACC,SAAS,EAAE,OAAO,KAAK;EAAE,IAAID,OAAO,CAACC,SAAS,CAACO,IAAI,EAAE,OAAO,KAAK;EAAE,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE,OAAO,IAAI;EAAE,IAAI;IAAEC,OAAO,CAACnD,SAAS,CAACoD,OAAO,CAAClD,IAAI,CAACuC,OAAO,CAACC,SAAS,CAACS,OAAO,EAAE,EAAE,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,OAAOE,CAAC,EAAE;IAAE,OAAO,KAAK;EAAE;AAAE;AAExU,SAASf,eAAeA,CAACV,CAAC,EAAE;EAAEU,eAAe,GAAG1C,MAAM,CAACkC,cAAc,GAAGlC,MAAM,CAAC0D,cAAc,GAAG,SAAShB,eAAeA,CAACV,CAAC,EAAE;IAAE,OAAOA,CAAC,CAACG,SAAS,IAAInC,MAAM,CAAC0D,cAAc,CAAC1B,CAAC,CAAC;EAAE,CAAC;EAAE,OAAOU,eAAe,CAACV,CAAC,CAAC;AAAE;AAa5M;AACA;AACA;AACA;;AAEO,IAAI2B,oBAAoB,GAAG,aAAa,UAAUC,UAAU,EAAE;EACnEnC,SAAS,CAACkC,oBAAoB,EAAEC,UAAU,CAAC;EAE3C,IAAIC,MAAM,GAAGzB,YAAY,CAACuB,oBAAoB,CAAC;;EAE/C;EACA,SAASA,oBAAoBA,CAAC5C,KAAK,EAAE;IACnC,IAAI+C,KAAK;IAETrD,eAAe,CAAC,IAAI,EAAEkD,oBAAoB,CAAC;IAE3CG,KAAK,GAAGD,MAAM,CAACvD,IAAI,CAAC,IAAI,EAAES,KAAK,CAAC;IAChC+C,KAAK,CAACC,KAAK,GAAG;MACZC,oBAAoB,EAAE;IACxB,CAAC;IACDF,KAAK,CAACG,YAAY,GAAGH,KAAK,CAACG,YAAY,CAACC,IAAI,CAACf,sBAAsB,CAACW,KAAK,CAAC,CAAC;IAC3EA,KAAK,CAACK,SAAS,GAAGL,KAAK,CAACK,SAAS,CAACD,IAAI,CAACf,sBAAsB,CAACW,KAAK,CAAC,CAAC;IACrEA,KAAK,CAACM,kBAAkB,GAAGN,KAAK,CAACM,kBAAkB,CAACF,IAAI,CAACf,sBAAsB,CAACW,KAAK,CAAC,CAAC;IACvF,OAAOA,KAAK;EACd;EACA;;EAGAxC,YAAY,CAACqC,oBAAoB,EAAE,CAAC;IAClCxD,GAAG,EAAE,cAAc;IACnB2B,KAAK,EAAE,SAASmC,YAAYA,CAAA,EAAG;MAC7B,IAAII,WAAW,GAAG,IAAI,CAACtD,KAAK;QACxBuD,MAAM,GAAGD,WAAW,CAACC,MAAM;QAC3BC,QAAQ,GAAGF,WAAW,CAACE,QAAQ;QAC/BC,SAAS,GAAGH,WAAW,CAACG,SAAS;QACjCC,aAAa,GAAGJ,WAAW,CAACI,aAAa;MAE7C,IAAIF,QAAQ,EAAE;QACZE,aAAa,EAAE;MACjB,CAAC,MAAM;QACLD,SAAS,CAACF,MAAM,CAACI,EAAE,CAAC;MACtB;IACF;IACA;EAEF,CAAC,EAAE;IACDvE,GAAG,EAAE,WAAW;IAChB2B,KAAK,EAAE,SAASqC,SAASA,CAACQ,KAAK,EAAE;MAC/B,IAAIC,YAAY,GAAG,IAAI,CAAC7D,KAAK;QACzBuD,MAAM,GAAGM,YAAY,CAACN,MAAM;QAC5BE,SAAS,GAAGI,YAAY,CAACJ,SAAS;QAClCC,aAAa,GAAGG,YAAY,CAACH,aAAa;MAC9C,IAAI,CAACI,IAAI,GAAG;QACVC,KAAK,EAAE,OAAO;QACdC,KAAK,EAAE;MACT,CAAC;MACD,IAAI,CAACC,KAAK,GAAG;QACXF,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE;MACT,CAAC;MACD,IAAIE,YAAY,GAAGN,KAAK,CAACxE,GAAG,KAAK,IAAI,CAAC0E,IAAI,CAACC,KAAK,IAAIH,KAAK,CAACO,KAAK,KAAK,IAAI,CAACF,KAAK,CAACF,KAAK,IAAIH,KAAK,CAACxE,GAAG,KAAK,IAAI,CAAC0E,IAAI,CAACE,KAAK,IAAIJ,KAAK,CAACO,KAAK,KAAK,IAAI,CAACF,KAAK,CAACD,KAAK;MAEzJ,IAAIE,YAAY,EAAE;QAChBR,aAAa,EAAE;MACjB,CAAC,MAAM;QACLD,SAAS,CAACF,MAAM,CAACI,EAAE,CAAC;MACtB;IACF;IACA;EAEF,CAAC,EAAE;IACDvE,GAAG,EAAE,oBAAoB;IACzB2B,KAAK,EAAE,SAASsC,kBAAkBA,CAACe,IAAI,EAAE;MACvC,IAAIC,cAAc,GAAGD,IAAI,CAACC,cAAc;MACxC,IAAIC,YAAY,GAAG,IAAI,CAACtE,KAAK;QACzBuE,gBAAgB,GAAGD,YAAY,CAACC,gBAAgB;QAChDC,wBAAwB,GAAGF,YAAY,CAACE,wBAAwB;MACpE,IAAIvB,oBAAoB,GAAG,IAAI,CAACD,KAAK,CAACC,oBAAoB;MAC1D,IAAI,CAACoB,cAAc,IAAIE,gBAAgB,KAAKE,SAAS,IAAIF,gBAAgB,GAAG,CAAC,IAAItB,oBAAoB,EAAE;MACvG,IAAI,CAACyB,QAAQ,CAAC;QACZzB,oBAAoB,EAAE;MACxB,CAAC,CAAC;MACFuB,wBAAwB,EAAE;IAC5B;IACA;AACJ;AACA;EAEE,CAAC,EAAE;IACDpF,GAAG,EAAE,QAAQ;IACb2B,KAAK,EAAE,SAAS4D,MAAMA,CAAA,EAAG;MACvB,IAAIC,YAAY,GAAG,IAAI,CAAC5E,KAAK;QACzBuE,gBAAgB,GAAGK,YAAY,CAACL,gBAAgB;QAChDM,sBAAsB,GAAGD,YAAY,CAACC,sBAAsB;QAC5DtB,MAAM,GAAGqB,YAAY,CAACrB,MAAM;QAC5BuB,OAAO,GAAGF,YAAY,CAACE,OAAO;QAC9BC,MAAM,GAAGH,YAAY,CAACG,MAAM;QAC5BvB,QAAQ,GAAGoB,YAAY,CAACpB,QAAQ;MACpC,IAAIwB,aAAa,GAAG,IAAIC,sBAAa,CAAC1B,MAAM,CAAC;MAC7C,OAAO,aAAa2B,cAAK,CAACC,aAAa,CAACC,kCAAoB,EAAE;QAC5DC,QAAQ,EAAE,IAAI,CAAChC;MACjB,CAAC,EAAE,aAAa6B,cAAK,CAACC,aAAa,CAAC,KAAK,EAAE;QACzC/F,GAAG,EAAEmE,MAAM,CAAC+B,KAAK;QACjBC,SAAS,EAAE,IAAAC,mBAAU,EAACV,OAAO,CAACW,eAAe,EAAEjC,QAAQ,GAAGsB,OAAO,CAACtB,QAAQ,GAAG,EAAE,EAAEqB,sBAAsB,GAAG,CAAC,GAAGC,OAAO,CAACY,cAAc,GAAG,EAAE,CAAC;QAC1IC,OAAO,EAAE,IAAI,CAACzC,YAAY;QAC1B0C,OAAO,EAAE,IAAI,CAACxC,SAAS;QACvByC,IAAI,EAAE,QAAQ;QACdC,QAAQ,EAAE;MACZ,CAAC,EAAE,aAAaZ,cAAK,CAACC,aAAa,CAACY,sBAAa,EAAE;QACjDC,QAAQ,EAAEzC,MAAM;QAChB0C,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,SAAS;QAClBC,QAAQ,EAAEpB,MAAM,CAACqB,KAAK;QACtBC,SAAS,EAAEtB,MAAM,CAACuB,MAAM;QACxBC,KAAK,EAAE;UACLC,MAAM,EAAE,QAAQ;UAChBL,QAAQ,EAAE,EAAE,CAACM,MAAM,CAACC,IAAI,CAACC,IAAI,CAAC5B,MAAM,CAACuB,MAAM,GAAGtB,aAAa,CAAC4B,WAAW,CAAC,EAAE,IAAI;QAChF;MACF,CAAC,EAAE,aAAa1B,cAAK,CAACC,aAAa,CAAC,KAAK,EAAE;QACzCI,SAAS,EAAET,OAAO,CAAC+B;MACrB,CAAC,EAAEhC,sBAAsB,GAAG,CAAC,IAAI,aAAaK,cAAK,CAACC,aAAa,CAAC2B,aAAI,EAAE;QACtEC,MAAM,EAAE,aAAa7B,cAAK,CAACC,aAAa,CAAC6B,eAAM,EAAE;UAC/CzB,SAAS,EAAET,OAAO,CAACiC,MAAM;UACzBjC,OAAO,EAAE;YACPmC,MAAM,EAAEnC,OAAO,CAACoC;UAClB;QACF,CAAC,EAAE,aAAahC,cAAK,CAACC,aAAa,CAACgC,oBAAU,EAAE;UAC9CC,QAAQ,EAAE;QACZ,CAAC,CAAC,CAAC;QACHC,KAAK,EAAExC,sBAAsB;QAC7BU,SAAS,EAAE,IAAAC,mBAAU,EAACV,OAAO,CAACwC,UAAU,CAAC;QACzCC,IAAI,EAAE;MACR,CAAC,CAAC,EAAE,CAAChD,gBAAgB,IAAI,CAAC,IAAI,CAAC,IAAI,aAAaW,cAAK,CAACC,aAAa,CAAC2B,aAAI,EAAE;QACxEC,MAAM,EAAE,aAAa7B,cAAK,CAACC,aAAa,CAAC6B,eAAM,EAAE;UAC/CzB,SAAS,EAAET,OAAO,CAACiC,MAAM;UACzBjC,OAAO,EAAE;YACPmC,MAAM,EAAEnC,OAAO,CAACoC;UAClB;QACF,CAAC,EAAE,aAAahC,cAAK,CAACC,aAAa,CAACqC,qBAAc,EAAE;UAClDjC,SAAS,EAAET,OAAO,CAAC2C;QACrB,CAAC,CAAC,CAAC;QACHJ,KAAK,EAAE9C,gBAAgB;QACvBgB,SAAS,EAAE,IAAAC,mBAAU,EAACV,OAAO,CAAC4C,eAAe,CAAC;QAC9CH,IAAI,EAAE;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR;EACF,CAAC,CAAC,CAAC;EAEH,OAAO3E,oBAAoB;AAC7B,CAAC,CAAC+E,gBAAS,CAAC;AAACC,OAAA,CAAAhF,oBAAA,GAAAA,oBAAA;AACbA,oBAAoB,CAACiF,YAAY,GAAG;EAClCtD,gBAAgB,EAAEE,SAAS;EAC3BM,MAAM,EAAE;IACNuB,MAAM,EAAE,GAAG;IACXF,KAAK,EAAE;EACT,CAAC;EACD5B,wBAAwB,EAAE,SAASA,wBAAwBA,CAAA,EAAG,CAAC,CAAC;EAChEK,sBAAsB,EAAE,CAAC;EACzBrB,QAAQ,EAAE;AACZ,CAAC;;;;;;;;ACxLD,IAAAsE,MAAA,GAAApK,OAAA;AACA,IAAAqK,WAAA,GAAArK,OAAA;AACA,IAAAsK,QAAA,GAAApK,sBAAA,CAAAF,OAAA;AACA,IAAAuK,OAAA,GAAAvK,OAAA;AACA,IAAAwK,OAAA,GAAAzK,uBAAA,CAAAC,OAAA;AACA,IAAAyK,qBAAA,GAAAzK,OAAA;AACA,IAAA0K,UAAA,GAAA1K,OAAA;AAAwK,SAAAa,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAf,wBAAAW,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAnB,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAZxK,SAASiK,OAAOA,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAIzE,IAAI,GAAG7E,MAAM,CAAC6E,IAAI,CAACwE,MAAM,CAAC;EAAE,IAAIrJ,MAAM,CAACuJ,qBAAqB,EAAE;IAAE,IAAIC,OAAO,GAAGxJ,MAAM,CAACuJ,qBAAqB,CAACF,MAAM,CAAC;IAAE,IAAIC,cAAc,EAAE;MAAEE,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;QAAE,OAAO1J,MAAM,CAACE,wBAAwB,CAACmJ,MAAM,EAAEK,GAAG,CAAC,CAACvI,UAAU;MAAE,CAAC,CAAC;IAAE;IAAE0D,IAAI,CAAC8E,IAAI,CAAC3G,KAAK,CAAC6B,IAAI,EAAE2E,OAAO,CAAC;EAAE;EAAE,OAAO3E,IAAI;AAAE;AAExV,SAAS+E,aAAaA,CAAC9I,MAAM,EAAE;EAAE,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+B,SAAS,CAAC9B,MAAM,EAAED,CAAC,EAAE,EAAE;IAAE,IAAI6I,MAAM,GAAG9G,SAAS,CAAC/B,CAAC,CAAC,IAAI,IAAI,GAAG+B,SAAS,CAAC/B,CAAC,CAAC,GAAG,CAAC,CAAC;IAAE,IAAIA,CAAC,GAAG,CAAC,EAAE;MAAEoI,OAAO,CAACpJ,MAAM,CAAC6J,MAAM,CAAC,EAAE,IAAI,CAAC,CAACC,OAAO,CAAC,UAAU3J,GAAG,EAAE;QAAE4J,eAAe,CAACjJ,MAAM,EAAEX,GAAG,EAAE0J,MAAM,CAAC1J,GAAG,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE,CAAC,MAAM,IAAIH,MAAM,CAACgK,yBAAyB,EAAE;MAAEhK,MAAM,CAACiK,gBAAgB,CAACnJ,MAAM,EAAEd,MAAM,CAACgK,yBAAyB,CAACH,MAAM,CAAC,CAAC;IAAE,CAAC,MAAM;MAAET,OAAO,CAACpJ,MAAM,CAAC6J,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,UAAU3J,GAAG,EAAE;QAAEH,MAAM,CAACC,cAAc,CAACa,MAAM,EAAEX,GAAG,EAAEH,MAAM,CAACE,wBAAwB,CAAC2J,MAAM,EAAE1J,GAAG,CAAC,CAAC;MAAE,CAAC,CAAC;IAAE;EAAE;EAAE,OAAOW,MAAM;AAAE;AAErhB,SAASiJ,eAAeA,CAAC5K,GAAG,EAAEgB,GAAG,EAAE2B,KAAK,EAAE;EAAE,IAAI3B,GAAG,IAAIhB,GAAG,EAAE;IAAEa,MAAM,CAACC,cAAc,CAACd,GAAG,EAAEgB,GAAG,EAAE;MAAE2B,KAAK,EAAEA,KAAK;MAAEX,UAAU,EAAE,IAAI;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAAC;EAAE,CAAC,MAAM;IAAElC,GAAG,CAACgB,GAAG,CAAC,GAAG2B,KAAK;EAAE;EAAE,OAAO3C,GAAG;AAAE;AAShN;AACA;AACA;;AAEA,IAAI+K,MAAM,GAAG,SAASA,MAAMA,CAACC,KAAK,EAAE;EAClC,OAAO;IACL3B,cAAc,EAAE;MACdnB,MAAM,EAAE,MAAM;MACdF,KAAK,EAAE;IACT,CAAC;IACDsB,eAAe,EAAEmB,aAAa,CAAC,CAAC,CAAC,EAAEO,KAAK,CAACC,UAAU,CAACC,OAAO,CAAC;IAC5DvC,MAAM,EAAE;MACNwC,eAAe,EAAE;IACnB,CAAC;IACD1C,KAAK,EAAE;MACL2C,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE,UAAU;MACpBC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE,OAAO;MAClBC,GAAG,EAAE;IACP,CAAC;IACDnE,eAAe,EAAE;MACf,kBAAkB,EAAE;QAClBoE,MAAM,EAAE,YAAY,CAACpD,MAAM,CAAC2C,KAAK,CAACU,OAAO,CAACC,MAAM,CAACvG,QAAQ;MAC3D,CAAC;MACD,sCAAsC,EAAE;QACtCqG,MAAM,EAAE,YAAY,CAACpD,MAAM,CAAC2C,KAAK,CAACU,OAAO,CAACE,OAAO,CAACC,IAAI;MACxD,CAAC;MACD,SAAS,EAAE;QACTC,OAAO,EAAE;MACX,CAAC;MACD,SAAS,EAAE;QACTX,eAAe,EAAEH,KAAK,CAACU,OAAO,CAACC,MAAM,CAACI;MACxC,CAAC;MACDN,MAAM,EAAE,uBAAuB;MAC/BO,MAAM,EAAE,SAAS;MACjBC,OAAO,EAAE,cAAc;MACvB7D,MAAM,EAAE,EAAE,CAACC,MAAM,CAAC2C,KAAK,CAACkB,OAAO,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC7D,MAAM,CAAC2C,KAAK,CAACkB,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;MAC3EjE,SAAS,EAAE,SAASA,SAASA,CAACrG,KAAK,EAAE;QACnC,OAAOA,KAAK,CAAC+E,MAAM,CAACuB,MAAM,GAAG,EAAE;MACjC,CAAC;MACDiE,QAAQ,EAAE,MAAM;MAChBC,QAAQ,EAAE,QAAQ;MAClBC,OAAO,EAAErB,KAAK,CAACkB,OAAO,CAAC,GAAG,CAAC;MAC3Bb,QAAQ,EAAE,UAAU;MACpBrD,KAAK,EAAE;IACT,CAAC;IACDV,cAAc,EAAE,CAAC,CAAC;IAClB4B,UAAU,EAAEuB,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEO,KAAK,CAACC,UAAU,CAACC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE;MACzE,oBAAoB,EAAE;QACpBC,eAAe,EAAEH,KAAK,CAACU,OAAO,CAACY,UAAU,CAACV;MAC5C,CAAC;MACDW,SAAS,EAAE;IACb,CAAC,CAAC;IACFnH,QAAQ,EAAE,CAAC;EACb,CAAC;AACH,CAAC;AACD;;AAGA,IAAIoH,eAAe,GAAG,SAASA,eAAeA,CAAC5H,KAAK,EAAEoB,IAAI,EAAE;EAC1D,IAAIb,MAAM,GAAGa,IAAI,CAACb,MAAM;IACpBsH,QAAQ,GAAGzG,IAAI,CAACyG,QAAQ;EAC5B,IAAIC,aAAa,GAAG,IAAAC,2BAAgB,EAAC/H,KAAK,EAAE;IAC1C6H,QAAQ,EAAEA;EACZ,CAAC,CAAC;EACF,IAAIG,iBAAiB,GAAG,IAAAC,wCAA6B,EAACjI,KAAK,EAAE;IAC3D6H,QAAQ,EAAEA;EACZ,CAAC,CAAC;EACF,IAAIK,iBAAiB,GAAG,IAAAC,gBAAO,EAACH,iBAAiB,CAACI,GAAG,CAAC,UAAUC,CAAC,EAAE;IACjE,OAAOA,CAAC,CAACC,SAAS;EACpB,CAAC,CAAC,CAAC,CAAC5C,MAAM,CAAC,UAAU2C,CAAC,EAAE;IACtB,OAAOA,CAAC,CAACE,QAAQ,KAAKhI,MAAM,CAACI,EAAE;EACjC,CAAC,CAAC;EACF,IAAI6H,wBAAwB,GAAG,IAAAC,wCAA6B,EAACzI,KAAK,EAAE;IAClE0I,OAAO,EAAE,aAAa;IACtBb,QAAQ,EAAEA;EACZ,CAAC,CAAC,CAAC3K,MAAM,GAAG,CAAC;EACb,OAAO;IACLqE,gBAAgB,EAAE,YAAY;MAC5B,IAAI,CAACiH,wBAAwB,EAAE,OAAO/G,SAAS;MAC/C,IAAIkH,WAAW,GAAG,IAAAC,kDAAuC,EAAC5I,KAAK,EAAE;QAC/D6I,QAAQ,EAAEtI,MAAM,CAACI;MACnB,CAAC,CAAC;MACF,OAAOgI,WAAW,CAACG,MAAM,CAAC,UAAUC,CAAC,EAAEV,CAAC,EAAE;QACxC,OAAOU,CAAC,GAAGV,CAAC,CAACC,SAAS,CAAC5C,MAAM,CAAC,UAAUsD,CAAC,EAAE;UACzC,OAAOA,CAAC,CAACT,QAAQ,KAAKhI,MAAM,CAACI,EAAE;QACjC,CAAC,CAAC,CAACzD,MAAM;MACX,CAAC,EAAE,CAAC,CAAC;IACP,CAAC,EAAE;IACH6E,MAAM,EAAE,IAAAkH,oBAAS,EAACjJ,KAAK,CAAC,CAACkJ,WAAW;IACpCrH,sBAAsB,EAAEqG,iBAAiB,CAAChL,MAAM;IAChDsD,QAAQ,EAAEsH,aAAa,IAAIA,aAAa,CAACnH,EAAE,KAAKJ,MAAM,CAACI;EACzD,CAAC;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;;AAGA,IAAIwI,kBAAkB,GAAG,SAASA,kBAAkBA,CAACC,QAAQ,EAAEC,KAAK,EAAE;EACpE,IAAI9I,MAAM,GAAG8I,KAAK,CAAC9I,MAAM;IACrBI,EAAE,GAAG0I,KAAK,CAAC1I,EAAE;IACbkH,QAAQ,GAAGwB,KAAK,CAACxB,QAAQ;EAC7B,OAAO;IACLnH,aAAa,EAAE,SAASA,aAAaA,CAAA,EAAG;MACtC,OAAO0I,QAAQ,CAAClE,OAAO,CAACoE,iBAAiB,CAACzB,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAChE,CAAC;IACDrG,wBAAwB,EAAE,SAASA,wBAAwBA,CAAA,EAAG;MAC5D,OAAO4H,QAAQ,CAAClE,OAAO,CAAC1D,wBAAwB,CAACqG,QAAQ,EAAEtH,MAAM,CAACI,EAAE,CAAC,CAAC;IACxE,CAAC;IACDF,SAAS,EAAE,SAASA,SAASA,CAAA,EAAG;MAC9B,KAAK,IAAI8I,IAAI,GAAGvK,SAAS,CAAC9B,MAAM,EAAEsM,IAAI,GAAG,IAAIC,KAAK,CAACF,IAAI,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;QACvFF,IAAI,CAACE,IAAI,CAAC,GAAG1K,SAAS,CAAC0K,IAAI,CAAC;MAC9B;MAEA,OAAON,QAAQ,CAAClE,OAAO,CAACzE,SAAS,CAACxB,KAAK,CAACiG,OAAO,EAAE,CAAC2C,QAAQ,CAAC,CAACpE,MAAM,CAAC+F,IAAI,CAAC,CAAC,CAAC;IAC5E;EACF,CAAC;AACH,CAAC;AAED,IAAIG,OAAO,GAAG,IAAAC,cAAO,EAAC,IAAAC,mBAAO,EAACjC,eAAe,EAAEuB,kBAAkB,CAAC,EAAE,IAAAW,kBAAU,EAAC3D,MAAM,CAAC,CAAC;AAAA,CACtF;AAAC,IAAA4D,QAAA,GACaJ,OAAO,CAAC/J,0CAAoB,CAAC;AAAAgF,OAAA,CAAAtJ,OAAA,GAAAyO,QAAA;;;;;;;;ACtH5C,IAAAvP,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAsP,MAAA,GAAApP,sBAAA,CAAAF,OAAA;AACA,IAAAyK,qBAAA,GAAAvK,sBAAA,CAAAF,OAAA;AAAsE,SAAAE,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAf,wBAAAW,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAtBtE,SAASW,eAAeA,CAACC,QAAQ,EAAEC,WAAW,EAAE;EAAE,IAAI,EAAED,QAAQ,YAAYC,WAAW,CAAC,EAAE;IAAE,MAAM,IAAIC,SAAS,CAAC,mCAAmC,CAAC;EAAE;AAAE;AAExJ,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAC,CAAC;IAAEE,UAAU,CAACC,UAAU,GAAGD,UAAU,CAACC,UAAU,IAAI,KAAK;IAAED,UAAU,CAACE,YAAY,GAAG,IAAI;IAAE,IAAI,OAAO,IAAIF,UAAU,EAAEA,UAAU,CAACG,QAAQ,GAAG,IAAI;IAAErB,MAAM,CAACC,cAAc,CAACa,MAAM,EAAEI,UAAU,CAACf,GAAG,EAAEe,UAAU,CAAC;EAAE;AAAE;AAE5T,SAASI,YAAYA,CAACX,WAAW,EAAEY,UAAU,EAAEC,WAAW,EAAE;EAAE,IAAID,UAAU,EAAEV,iBAAiB,CAACF,WAAW,CAACP,SAAS,EAAEmB,UAAU,CAAC;EAAE,IAAIC,WAAW,EAAEX,iBAAiB,CAACF,WAAW,EAAEa,WAAW,CAAC;EAAE,OAAOb,WAAW;AAAE;AAEtN,SAASc,SAASA,CAACC,QAAQ,EAAEC,UAAU,EAAE;EAAE,IAAI,OAAOA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,IAAI,EAAE;IAAE,MAAM,IAAIf,SAAS,CAAC,oDAAoD,CAAC;EAAE;EAAEc,QAAQ,CAACtB,SAAS,GAAGJ,MAAM,CAAC4B,MAAM,CAACD,UAAU,IAAIA,UAAU,CAACvB,SAAS,EAAE;IAAEyB,WAAW,EAAE;MAAEC,KAAK,EAAEJ,QAAQ;MAAEL,QAAQ,EAAE,IAAI;MAAED,YAAY,EAAE;IAAK;EAAE,CAAC,CAAC;EAAE,IAAIO,UAAU,EAAEI,eAAe,CAACL,QAAQ,EAAEC,UAAU,CAAC;AAAE;AAEhY,SAASI,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;EAAEF,eAAe,GAAG/B,MAAM,CAACkC,cAAc,IAAI,SAASH,eAAeA,CAACC,CAAC,EAAEC,CAAC,EAAE;IAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;IAAE,OAAOD,CAAC;EAAE,CAAC;EAAE,OAAOD,eAAe,CAACC,CAAC,EAAEC,CAAC,CAAC;AAAE;AAEzK,SAASG,YAAYA,CAACC,OAAO,EAAE;EAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAE;EAAE,OAAO,SAASC,oBAAoBA,CAAA,EAAG;IAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAO,CAAC;MAAEM,MAAM;IAAE,IAAIL,yBAAyB,EAAE;MAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAI,CAAC,CAACb,WAAW;MAAEc,MAAM,GAAGE,OAAO,CAACC,SAAS,CAACL,KAAK,EAAEM,SAAS,EAAEH,SAAS,CAAC;IAAE,CAAC,MAAM;MAAED,MAAM,GAAGF,KAAK,CAACO,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC;IAAE;IAAE,OAAOE,0BAA0B,CAAC,IAAI,EAAEN,MAAM,CAAC;EAAE,CAAC;AAAE;AAExa,SAASM,0BAA0BA,CAACC,IAAI,EAAE5C,IAAI,EAAE;EAAE,IAAIA,IAAI,KAAK,OAAOA,IAAI,KAAK,QAAQ,IAAI,OAAOA,IAAI,KAAK,UAAU,CAAC,EAAE;IAAE,OAAOA,IAAI;EAAE,CAAC,MAAM,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;IAAE,MAAM,IAAIM,SAAS,CAAC,0DAA0D,CAAC;EAAE;EAAE,OAAOuC,sBAAsB,CAACD,IAAI,CAAC;AAAE;AAE7R,SAASC,sBAAsBA,CAACD,IAAI,EAAE;EAAE,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;IAAE,MAAM,IAAIE,cAAc,CAAC,2DAA2D,CAAC;EAAE;EAAE,OAAOF,IAAI;AAAE;AAErK,SAASX,yBAAyBA,CAAA,EAAG;EAAE,IAAI,OAAOM,OAAO,KAAK,WAAW,IAAI,CAACA,OAAO,CAACC,SAAS,EAAE,OAAO,KAAK;EAAE,IAAID,OAAO,CAACC,SAAS,CAACO,IAAI,EAAE,OAAO,KAAK;EAAE,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE,OAAO,IAAI;EAAE,IAAI;IAAEC,OAAO,CAACnD,SAAS,CAACoD,OAAO,CAAClD,IAAI,CAACuC,OAAO,CAACC,SAAS,CAACS,OAAO,EAAE,EAAE,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,OAAOE,CAAC,EAAE;IAAE,OAAO,KAAK;EAAE;AAAE;AAExU,SAASf,eAAeA,CAACV,CAAC,EAAE;EAAEU,eAAe,GAAG1C,MAAM,CAACkC,cAAc,GAAGlC,MAAM,CAAC0D,cAAc,GAAG,SAAShB,eAAeA,CAACV,CAAC,EAAE;IAAE,OAAOA,CAAC,CAACG,SAAS,IAAInC,MAAM,CAAC0D,cAAc,CAAC1B,CAAC,CAAC;EAAE,CAAC;EAAE,OAAOU,eAAe,CAACV,CAAC,CAAC;AAAE;AAK5M;AACA;AACA;;AAEO,IAAIgM,WAAW,GAAG,aAAa,UAAUpK,UAAU,EAAE;EAC1DnC,SAAS,CAACuM,WAAW,EAAEpK,UAAU,CAAC;EAElC,IAAIC,MAAM,GAAGzB,YAAY,CAAC4L,WAAW,CAAC;EAEtC,SAASA,WAAWA,CAAA,EAAG;IACrBvN,eAAe,CAAC,IAAI,EAAEuN,WAAW,CAAC;IAElC,OAAOnK,MAAM,CAACb,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC;EACtC;EAEAzB,YAAY,CAAC0M,WAAW,EAAE,CAAC;IACzB7N,GAAG,EAAE,QAAQ;IACb2B,KAAK;IACL;AACJ;AACA;IACI,SAAS4D,MAAMA,CAAA,EAAG;MAChB,IAAIrB,WAAW,GAAG,IAAI,CAACtD,KAAK;QACxBkN,QAAQ,GAAG5J,WAAW,CAAC4J,QAAQ;QAC/BpI,OAAO,GAAGxB,WAAW,CAACwB,OAAO;QAC7BqI,gBAAgB,GAAG7J,WAAW,CAAC6J,gBAAgB;QAC/CtC,QAAQ,GAAGvH,WAAW,CAACuH,QAAQ;MACnC,IAAIuC,OAAO,GAAGD,gBAAgB,KAAK,eAAe,GAAG,KAAK,GAAG,KAAK;MAClE,OAAO,aAAajI,cAAK,CAACC,aAAa,CAACkI,cAAK,EAAE;QAC7CC,SAAS,EAAE,SAAS;QACpBC,GAAG,EAAEH,OAAO;QACZI,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE,CAAC;QACZlI,SAAS,EAAET,OAAO,CAAC4I,gBAAgB;QACnC/J,EAAE,EAAE,EAAE,CAAC8C,MAAM,CAACoE,QAAQ,EAAE,UAAU;MACpC,CAAC,EAAEqC,QAAQ,CAAC9B,GAAG,CAAC,UAAU7H,MAAM,EAAE;QAChC,OAAO,aAAa2B,cAAK,CAACC,aAAa,CAACvC,6BAAoB,EAAE;UAC5DxD,GAAG,EAAEmE,MAAM,CAACI,EAAE;UACdkH,QAAQ,EAAEA,QAAQ;UAClBtH,MAAM,EAAEA;QACV,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC;IACL;EACF,CAAC,CAAC,CAAC;EAEH,OAAO0J,WAAW;AACpB,CAAC,CAACtF,gBAAS,CAAC;AAACC,OAAA,CAAAqF,WAAA,GAAAA,WAAA;AACbA,WAAW,CAACpF,YAAY,GAAG;EACzB/C,OAAO,EAAE,CAAC,CAAC;EACXqI,gBAAgB,EAAE;AACpB,CAAC;;;;;;;;ACzED,IAAArF,MAAA,GAAApK,OAAA;AACA,IAAAqK,WAAA,GAAArK,OAAA;AACA,IAAAuK,OAAA,GAAAvK,OAAA;AACA,IAAAiQ,YAAA,GAAAjQ,OAAA;AACA,IAAAkQ,YAAA,GAAAlQ,OAAA;AACA,IAAA0K,UAAA,GAAA1K,OAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIkN,eAAe,GAAG,SAASA,eAAeA,CAAC5H,KAAK,EAAEoB,IAAI,EAAE;EAC1D,IAAIyG,QAAQ,GAAGzG,IAAI,CAACyG,QAAQ;EAC5B,OAAO;IACLqC,QAAQ,EAAE,IAAAW,sBAAW,EAAC7K,KAAK,EAAE;MAC3B6H,QAAQ,EAAEA;IACZ,CAAC,CAAC;IACFsC,gBAAgB,EAAE,IAAAW,sCAA2B,EAAC9K,KAAK,EAAE;MACnD6H,QAAQ,EAAEA;IACZ,CAAC;EACH,CAAC;AACH,CAAC;AACD;AACA;AACA;;AAGA,IAAI1B,MAAM,GAAG,SAASA,MAAMA,CAACC,KAAK,EAAE;EAClC,OAAO;IACLsE,gBAAgB,EAAE;MAChBK,UAAU,EAAE,YAAY;MACxB1D,OAAO,EAAE,MAAM;MACf2D,aAAa,EAAE,KAAK;MACpBC,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE,QAAQ;MACnBC,SAAS,EAAE,QAAQ;MACnB1D,OAAO,EAAE,kBAAkB;MAC3BrE,KAAK,EAAE;IACT;EACF,CAAC;AACH,CAAC;AAED,IAAIuG,OAAO,GAAG,IAAAC,cAAO,EAAC,IAAAE,kBAAU,EAAC3D,MAAM,CAAC,EAAE,IAAA0D,mBAAO,EAACjC,eAAe,CAAC,EAAE,IAAAwD,wBAAW,EAAC,aAAa,CAAC,CAAC;AAAA,CAC9F;AAAC,IAAArB,QAAA,GACaJ,OAAO,CAACM,wBAAW,CAAC;AAAArF,OAAA,CAAAtJ,OAAA,GAAAyO,QAAA;;;AC7CnC,IAAIsB,UAAU,GAAG,4BAA4B;AAE7C,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACC,MAAM;AAEpC,SAASA,MAAMA,CAACC,UAAU,EAAE;EAC1BJ,SAAS,CAAC/O,IAAI,CAAC,IAAI,EAAEmP,UAAU,CAAC;EAChC,IAAI,CAACC,GAAG,GAAG;IACTC,IAAI,EAAEL,MAAM,CAACC,MAAM,CAACK,OAAO;IAC3BC,gBAAgB,EAAE,EAAE;IACpBC,iBAAiB,EAAE,EAAE;IACrBC,MAAM,EAAE,SAAAA,CAAUC,EAAE,EAAE;MACpB,IAAI,CAACH,gBAAgB,CAAClG,IAAI,CAACqG,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC;IAClD,CAAC;IACDC,OAAO,EAAE,SAAAA,CAAUD,EAAE,EAAE;MACrB,IAAI,CAACF,iBAAiB,CAACnG,IAAI,CAACqG,EAAE,CAAC;IACjC;EACF,CAAC;EAEDV,MAAM,CAACC,MAAM,CAACK,OAAO,GAAG,IAAI;AAC9B;AAEAN,MAAM,CAACC,MAAM,CAACC,MAAM,GAAGA,MAAM;AAC7B,IAAIU,aAAa,EAAEC,cAAc;AAEjC,IAAIC,MAAM,GAAGd,MAAM,CAACC,MAAM,CAACa,MAAM;AACjC,IAAI,CAAC,CAACA,MAAM,IAAI,CAACA,MAAM,CAACC,eAAe,KAAK,OAAOC,SAAS,KAAK,WAAW,EAAE;EAC5E,IAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAAQ;EAC5D,IAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAQ,KAAK,QAAQ,GAAG,KAAK,GAAG,IAAI;EAC5D,IAAIC,EAAE,GAAG,IAAIJ,SAAS,CAACG,QAAQ,GAAG,KAAK,GAAGF,QAAQ,GAAG,GAAG,UAAuB,GAAG,GAAG,CAAC;EACtFG,EAAE,CAACC,SAAS,GAAG,UAAShM,KAAK,EAAE;IAC7BuL,aAAa,GAAG,CAAC,CAAC;IAClBC,cAAc,GAAG,EAAE;IAEnB,IAAIR,IAAI,GAAGiB,IAAI,CAACC,KAAK,CAAClM,KAAK,CAACgL,IAAI,CAAC;IAEjC,IAAIA,IAAI,CAACmB,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAIC,OAAO,GAAG,KAAK;MACnBpB,IAAI,CAACqB,MAAM,CAAClH,OAAO,CAAC,UAASmH,KAAK,EAAE;QAClC,IAAI,CAACA,KAAK,CAACC,KAAK,EAAE;UAChB,IAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAa,EAAEL,KAAK,CAACvM,EAAE,CAAC;UAC9D,IAAIyM,SAAS,EAAE;YACbJ,OAAO,GAAG,IAAI;UAChB;QACF;MACF,CAAC,CAAC;;MAEF;MACAA,OAAO,GAAGA,OAAO,IAAIpB,IAAI,CAACqB,MAAM,CAACO,KAAK,CAAC,UAASN,KAAK,EAAE;QACrD,OAAOA,KAAK,CAACH,IAAI,KAAK,KAAK,IAAIG,KAAK,CAACO,SAAS,CAACC,EAAE;MACnD,CAAC,CAAC;MAEF,IAAIV,OAAO,EAAE;QACXW,OAAO,CAACC,KAAK,EAAE;QAEfhC,IAAI,CAACqB,MAAM,CAAClH,OAAO,CAAC,UAAUmH,KAAK,EAAE;UACnCW,QAAQ,CAACP,MAAM,CAACC,aAAa,EAAEL,KAAK,CAAC;QACvC,CAAC,CAAC;QAEFd,cAAc,CAACrG,OAAO,CAAC,UAAUgD,CAAC,EAAE;UAClC+E,YAAY,CAAC/E,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC;MACJ,CAAC,MAAM,IAAI0D,QAAQ,CAACsB,MAAM,EAAE;QAAE;QAC5BtB,QAAQ,CAACsB,MAAM,EAAE;MACnB;IACF;IAEA,IAAInC,IAAI,CAACmB,IAAI,KAAK,QAAQ,EAAE;MAC1BJ,EAAE,CAACqB,KAAK,EAAE;MACVrB,EAAE,CAACsB,OAAO,GAAG,YAAY;QACvBxB,QAAQ,CAACsB,MAAM,EAAE;MACnB,CAAC;IACH;IAEA,IAAInC,IAAI,CAACmB,IAAI,KAAK,gBAAgB,EAAE;MAClCY,OAAO,CAACO,GAAG,CAAC,2BAA2B,CAAC;MAExCC,kBAAkB,EAAE;IACtB;IAEA,IAAIvC,IAAI,CAACmB,IAAI,KAAK,OAAO,EAAE;MACzBY,OAAO,CAACS,KAAK,CAAC,eAAe,GAAGxC,IAAI,CAACwC,KAAK,CAACC,OAAO,GAAG,IAAI,GAAGzC,IAAI,CAACwC,KAAK,CAACE,KAAK,CAAC;MAE7EH,kBAAkB,EAAE;MAEpB,IAAII,OAAO,GAAGC,kBAAkB,CAAC5C,IAAI,CAAC;MACtC6C,QAAQ,CAACC,IAAI,CAACC,WAAW,CAACJ,OAAO,CAAC;IACpC;EACF,CAAC;AACH;AAEA,SAASJ,kBAAkBA,CAAA,EAAG;EAC5B,IAAII,OAAO,GAAGE,QAAQ,CAACG,cAAc,CAACvD,UAAU,CAAC;EACjD,IAAIkD,OAAO,EAAE;IACXA,OAAO,CAACM,MAAM,EAAE;EAClB;AACF;AAEA,SAASL,kBAAkBA,CAAC5C,IAAI,EAAE;EAChC,IAAI2C,OAAO,GAAGE,QAAQ,CAACtM,aAAa,CAAC,KAAK,CAAC;EAC3CoM,OAAO,CAAC5N,EAAE,GAAG0K,UAAU;;EAEvB;EACA,IAAIgD,OAAO,GAAGI,QAAQ,CAACtM,aAAa,CAAC,KAAK,CAAC;EAC3C,IAAI2M,UAAU,GAAGL,QAAQ,CAACtM,aAAa,CAAC,KAAK,CAAC;EAC9CkM,OAAO,CAACU,SAAS,GAAGnD,IAAI,CAACwC,KAAK,CAACC,OAAO;EACtCS,UAAU,CAACC,SAAS,GAAGnD,IAAI,CAACwC,KAAK,CAACE,KAAK;EAEvCC,OAAO,CAACS,SAAS,GACf,wNAAwN,GACtN,mFAAmF,GACnF,yEAAyE,GACzE,qEAAqE,GAAGX,OAAO,CAACW,SAAS,GAAG,QAAQ,GACpG,OAAO,GAAGF,UAAU,CAACE,SAAS,GAAG,QAAQ,GAC3C,QACD;EAED,OAAOT,OAAO;AAEhB;AAEA,SAASU,UAAUA,CAACzD,MAAM,EAAE7K,EAAE,EAAE;EAC9B,IAAIuO,OAAO,GAAG1D,MAAM,CAAC0D,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,EAAE;EACX;EAEA,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,CAAC,EAAEC,CAAC,EAAEC,GAAG;EAEb,KAAKF,CAAC,IAAIF,OAAO,EAAE;IACjB,KAAKG,CAAC,IAAIH,OAAO,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACvBE,GAAG,GAAGJ,OAAO,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,CAAC,CAAC;MACtB,IAAIC,GAAG,KAAK3O,EAAE,IAAK8I,KAAK,CAAC8F,OAAO,CAACD,GAAG,CAAC,IAAIA,GAAG,CAACA,GAAG,CAACpS,MAAM,GAAG,CAAC,CAAC,KAAKyD,EAAG,EAAE;QACpEwO,OAAO,CAACvJ,IAAI,CAACwJ,CAAC,CAAC;MACjB;IACF;EACF;EAEA,IAAI5D,MAAM,CAACa,MAAM,EAAE;IACjB8C,OAAO,GAAGA,OAAO,CAAC1L,MAAM,CAACwL,UAAU,CAACzD,MAAM,CAACa,MAAM,EAAE1L,EAAE,CAAC,CAAC;EACzD;EAEA,OAAOwO,OAAO;AAChB;AAEA,SAAStB,QAAQA,CAACrC,MAAM,EAAE0B,KAAK,EAAE;EAC/B,IAAIgC,OAAO,GAAG1D,MAAM,CAAC0D,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAIA,OAAO,CAAChC,KAAK,CAACvM,EAAE,CAAC,IAAI,CAAC6K,MAAM,CAACa,MAAM,EAAE;IACvC,IAAIJ,EAAE,GAAG,IAAIuD,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAEtC,KAAK,CAACO,SAAS,CAACC,EAAE,CAAC;IACzER,KAAK,CAACC,KAAK,GAAG,CAAC+B,OAAO,CAAChC,KAAK,CAACvM,EAAE,CAAC;IAChCuO,OAAO,CAAChC,KAAK,CAACvM,EAAE,CAAC,GAAG,CAACsL,EAAE,EAAEiB,KAAK,CAACuC,IAAI,CAAC;EACtC,CAAC,MAAM,IAAIjE,MAAM,CAACa,MAAM,EAAE;IACxBwB,QAAQ,CAACrC,MAAM,CAACa,MAAM,EAAEa,KAAK,CAAC;EAChC;AACF;AAEA,SAASG,cAAcA,CAAC7B,MAAM,EAAE7K,EAAE,EAAE;EAClC,IAAIuO,OAAO,GAAG1D,MAAM,CAAC0D,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAI,CAACA,OAAO,CAACvO,EAAE,CAAC,IAAI6K,MAAM,CAACa,MAAM,EAAE;IACjC,OAAOgB,cAAc,CAAC7B,MAAM,CAACa,MAAM,EAAE1L,EAAE,CAAC;EAC1C;EAEA,IAAIwL,aAAa,CAACxL,EAAE,CAAC,EAAE;IACrB;EACF;EACAwL,aAAa,CAACxL,EAAE,CAAC,GAAG,IAAI;EAExB,IAAI+O,MAAM,GAAGlE,MAAM,CAAC5P,KAAK,CAAC+E,EAAE,CAAC;EAE7ByL,cAAc,CAACxG,IAAI,CAAC,CAAC4F,MAAM,EAAE7K,EAAE,CAAC,CAAC;EAEjC,IAAI+O,MAAM,IAAIA,MAAM,CAAC/D,GAAG,IAAI+D,MAAM,CAAC/D,GAAG,CAACG,gBAAgB,CAAC5O,MAAM,EAAE;IAC9D,OAAO,IAAI;EACb;EAEA,OAAO+R,UAAU,CAAC3B,MAAM,CAACC,aAAa,EAAE5M,EAAE,CAAC,CAACgP,IAAI,CAAC,UAAUhP,EAAE,EAAE;IAC7D,OAAO0M,cAAc,CAACC,MAAM,CAACC,aAAa,EAAE5M,EAAE,CAAC;EACjD,CAAC,CAAC;AACJ;AAEA,SAASmN,YAAYA,CAACtC,MAAM,EAAE7K,EAAE,EAAE;EAChC,IAAI+O,MAAM,GAAGlE,MAAM,CAAC5P,KAAK,CAAC+E,EAAE,CAAC;EAC7B6K,MAAM,CAACK,OAAO,GAAG,CAAC,CAAC;EACnB,IAAI6D,MAAM,EAAE;IACVA,MAAM,CAAC/D,GAAG,CAACC,IAAI,GAAGJ,MAAM,CAACK,OAAO;EAClC;EAEA,IAAI6D,MAAM,IAAIA,MAAM,CAAC/D,GAAG,IAAI+D,MAAM,CAAC/D,GAAG,CAACI,iBAAiB,CAAC7O,MAAM,EAAE;IAC/DwS,MAAM,CAAC/D,GAAG,CAACI,iBAAiB,CAAChG,OAAO,CAAC,UAAU6J,EAAE,EAAE;MACjDA,EAAE,CAACpE,MAAM,CAACK,OAAO,CAAC;IACpB,CAAC,CAAC;EACJ;EAEA,OAAOL,MAAM,CAAC5P,KAAK,CAAC+E,EAAE,CAAC;EACvB6K,MAAM,CAAC7K,EAAE,CAAC;EAEV+O,MAAM,GAAGlE,MAAM,CAAC5P,KAAK,CAAC+E,EAAE,CAAC;EACzB,IAAI+O,MAAM,IAAIA,MAAM,CAAC/D,GAAG,IAAI+D,MAAM,CAAC/D,GAAG,CAACG,gBAAgB,CAAC5O,MAAM,EAAE;IAC9DwS,MAAM,CAAC/D,GAAG,CAACG,gBAAgB,CAAC/F,OAAO,CAAC,UAAU6J,EAAE,EAAE;MAChDA,EAAE,EAAE;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACb;AACF","file":"GalleryView.49b43c94.js","sourceRoot":"../parcel","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport AnnotationIcon from '@material-ui/icons/CommentSharp';\nimport SearchIcon from '@material-ui/icons/SearchSharp';\nimport classNames from 'classnames';\nimport 'intersection-observer'; // polyfill needed for Safari\n\nimport IntersectionObserver from '@researchgate/react-intersection-observer';\nimport MiradorCanvas from '../lib/MiradorCanvas';\nimport IIIFThumbnail from '../containers/IIIFThumbnail';\n/**\n * Represents a WindowViewer in the mirador workspace. Responsible for mounting\n * OSD and Navigation\n */\n\nexport var GalleryViewThumbnail = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryViewThumbnail, _Component);\n\n  var _super = _createSuper(GalleryViewThumbnail);\n\n  /** */\n  function GalleryViewThumbnail(props) {\n    var _this;\n\n    _classCallCheck(this, GalleryViewThumbnail);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      requestedAnnotations: false\n    };\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_this));\n    _this.handleKey = _this.handleKey.bind(_assertThisInitialized(_this));\n    _this.handleIntersection = _this.handleIntersection.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** @private */\n\n\n  _createClass(GalleryViewThumbnail, [{\n    key: \"handleSelect\",\n    value: function handleSelect() {\n      var _this$props = this.props,\n          canvas = _this$props.canvas,\n          selected = _this$props.selected,\n          setCanvas = _this$props.setCanvas,\n          focusOnCanvas = _this$props.focusOnCanvas;\n\n      if (selected) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"handleKey\",\n    value: function handleKey(event) {\n      var _this$props2 = this.props,\n          canvas = _this$props2.canvas,\n          setCanvas = _this$props2.setCanvas,\n          focusOnCanvas = _this$props2.focusOnCanvas;\n      this.keys = {\n        enter: 'Enter',\n        space: ' '\n      };\n      this.chars = {\n        enter: 13,\n        space: 32\n      };\n      var enterOrSpace = event.key === this.keys.enter || event.which === this.chars.enter || event.key === this.keys.space || event.which === this.chars.space;\n\n      if (enterOrSpace) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n    /** */\n\n  }, {\n    key: \"handleIntersection\",\n    value: function handleIntersection(_ref) {\n      var isIntersecting = _ref.isIntersecting;\n      var _this$props3 = this.props,\n          annotationsCount = _this$props3.annotationsCount,\n          requestCanvasAnnotations = _this$props3.requestCanvasAnnotations;\n      var requestedAnnotations = this.state.requestedAnnotations;\n      if (!isIntersecting || annotationsCount === undefined || annotationsCount > 0 || requestedAnnotations) return;\n      this.setState({\n        requestedAnnotations: true\n      });\n      requestCanvasAnnotations();\n    }\n    /**\n     * Renders things\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          annotationsCount = _this$props4.annotationsCount,\n          searchAnnotationsCount = _this$props4.searchAnnotationsCount,\n          canvas = _this$props4.canvas,\n          classes = _this$props4.classes,\n          config = _this$props4.config,\n          selected = _this$props4.selected;\n      var miradorCanvas = new MiradorCanvas(canvas);\n      return /*#__PURE__*/React.createElement(IntersectionObserver, {\n        onChange: this.handleIntersection\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        key: canvas.index,\n        className: classNames(classes.galleryViewItem, selected ? classes.selected : '', searchAnnotationsCount > 0 ? classes.hasAnnotations : ''),\n        onClick: this.handleSelect,\n        onKeyUp: this.handleKey,\n        role: \"button\",\n        tabIndex: 0\n      }, /*#__PURE__*/React.createElement(IIIFThumbnail, {\n        resource: canvas,\n        labelled: true,\n        variant: \"outside\",\n        maxWidth: config.width,\n        maxHeight: config.height,\n        style: {\n          margin: '0 auto',\n          maxWidth: \"\".concat(Math.ceil(config.height * miradorCanvas.aspectRatio), \"px\")\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.chips\n      }, searchAnnotationsCount > 0 && /*#__PURE__*/React.createElement(Chip, {\n        avatar: /*#__PURE__*/React.createElement(Avatar, {\n          className: classes.avatar,\n          classes: {\n            circle: classes.avatarIcon\n          }\n        }, /*#__PURE__*/React.createElement(SearchIcon, {\n          fontSize: \"small\"\n        })),\n        label: searchAnnotationsCount,\n        className: classNames(classes.searchChip),\n        size: \"small\"\n      }), (annotationsCount || 0) > 0 && /*#__PURE__*/React.createElement(Chip, {\n        avatar: /*#__PURE__*/React.createElement(Avatar, {\n          className: classes.avatar,\n          classes: {\n            circle: classes.avatarIcon\n          }\n        }, /*#__PURE__*/React.createElement(AnnotationIcon, {\n          className: classes.annotationIcon\n        })),\n        label: annotationsCount,\n        className: classNames(classes.annotationsChip),\n        size: \"small\"\n      })))));\n    }\n  }]);\n\n  return GalleryViewThumbnail;\n}(Component);\nGalleryViewThumbnail.defaultProps = {\n  annotationsCount: undefined,\n  config: {\n    height: 100,\n    width: null\n  },\n  requestCanvasAnnotations: function requestCanvasAnnotations() {},\n  searchAnnotationsCount: 0,\n  selected: false\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport flatten from 'lodash/flatten';\nimport { withStyles } from '@material-ui/core/styles';\nimport * as actions from '../state/actions';\nimport { GalleryViewThumbnail } from '../components/GalleryViewThumbnail';\nimport { getSearchAnnotationsForWindow, getCurrentCanvas, getConfig, getPresentAnnotationsOnSelectedCanvases, getCompanionWindowsForContent } from '../state/selectors';\n/**\n * Styles to be passed to the withStyles HOC\n */\n\nvar styles = function styles(theme) {\n  return {\n    annotationIcon: {\n      height: '1rem',\n      width: '1rem'\n    },\n    annotationsChip: _objectSpread({}, theme.typography.caption),\n    avatar: {\n      backgroundColor: 'transparent'\n    },\n    chips: {\n      opacity: 0.875,\n      position: 'absolute',\n      right: 0,\n      textAlign: 'right',\n      top: 0\n    },\n    galleryViewItem: {\n      '&$hasAnnotations': {\n        border: \"2px solid \".concat(theme.palette.action.selected)\n      },\n      '&$selected,&$selected$hasAnnotations': {\n        border: \"2px solid \".concat(theme.palette.primary.main)\n      },\n      '&:focus': {\n        outline: 'none'\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      border: '2px solid transparent',\n      cursor: 'pointer',\n      display: 'inline-block',\n      margin: \"\".concat(theme.spacing(1), \"px \").concat(theme.spacing(0.5), \"px\"),\n      maxHeight: function maxHeight(props) {\n        return props.config.height + 45;\n      },\n      minWidth: '60px',\n      overflow: 'hidden',\n      padding: theme.spacing(0.5),\n      position: 'relative',\n      width: 'min-content'\n    },\n    hasAnnotations: {},\n    searchChip: _objectSpread(_objectSpread({}, theme.typography.caption), {}, {\n      '&$selected $avatar': {\n        backgroundColor: theme.palette.highlights.primary\n      },\n      marginTop: 2\n    }),\n    selected: {}\n  };\n};\n/** */\n\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var canvas = _ref.canvas,\n      windowId = _ref.windowId;\n  var currentCanvas = getCurrentCanvas(state, {\n    windowId: windowId\n  });\n  var searchAnnotations = getSearchAnnotationsForWindow(state, {\n    windowId: windowId\n  });\n  var canvasAnnotations = flatten(searchAnnotations.map(function (a) {\n    return a.resources;\n  })).filter(function (a) {\n    return a.targetId === canvas.id;\n  });\n  var hasOpenAnnotationsWindow = getCompanionWindowsForContent(state, {\n    content: 'annotations',\n    windowId: windowId\n  }).length > 0;\n  return {\n    annotationsCount: function () {\n      if (!hasOpenAnnotationsWindow) return undefined;\n      var annotations = getPresentAnnotationsOnSelectedCanvases(state, {\n        canvasId: canvas.id\n      });\n      return annotations.reduce(function (v, a) {\n        return v + a.resources.filter(function (r) {\n          return r.targetId === canvas.id;\n        }).length;\n      }, 0);\n    }(),\n    config: getConfig(state).galleryView,\n    searchAnnotationsCount: canvasAnnotations.length,\n    selected: currentCanvas && currentCanvas.id === canvas.id\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowViewer\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var canvas = _ref2.canvas,\n      id = _ref2.id,\n      windowId = _ref2.windowId;\n  return {\n    focusOnCanvas: function focusOnCanvas() {\n      return dispatch(actions.setWindowViewType(windowId, 'single'));\n    },\n    requestCanvasAnnotations: function requestCanvasAnnotations() {\n      return dispatch(actions.requestCanvasAnnotations(windowId, canvas.id));\n    },\n    setCanvas: function setCanvas() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return dispatch(actions.setCanvas.apply(actions, [windowId].concat(args)));\n    }\n  };\n};\n\nvar enhance = compose(connect(mapStateToProps, mapDispatchToProps), withStyles(styles) // further HOC go here\n);\nexport default enhance(GalleryViewThumbnail);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport GalleryViewThumbnail from '../containers/GalleryViewThumbnail';\n/**\n * Renders a GalleryView overview of the manifest.\n */\n\nexport var GalleryView = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryView, _Component);\n\n  var _super = _createSuper(GalleryView);\n\n  function GalleryView() {\n    _classCallCheck(this, GalleryView);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GalleryView, [{\n    key: \"render\",\n    value:\n    /**\n     * Renders things\n     */\n    function render() {\n      var _this$props = this.props,\n          canvases = _this$props.canvases,\n          classes = _this$props.classes,\n          viewingDirection = _this$props.viewingDirection,\n          windowId = _this$props.windowId;\n      var htmlDir = viewingDirection === 'right-to-left' ? 'rtl' : 'ltr';\n      return /*#__PURE__*/React.createElement(Paper, {\n        component: \"section\",\n        dir: htmlDir,\n        square: true,\n        elevation: 0,\n        className: classes.galleryContainer,\n        id: \"\".concat(windowId, \"-gallery\")\n      }, canvases.map(function (canvas) {\n        return /*#__PURE__*/React.createElement(GalleryViewThumbnail, {\n          key: canvas.id,\n          windowId: windowId,\n          canvas: canvas\n        });\n      }));\n    }\n  }]);\n\n  return GalleryView;\n}(Component);\nGalleryView.defaultProps = {\n  classes: {},\n  viewingDirection: ''\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { GalleryView } from '../components/GalleryView';\nimport { getCanvases, getSequenceViewingDirection } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    canvases: getCanvases(state, {\n      windowId: windowId\n    }),\n    viewingDirection: getSequenceViewingDirection(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n * Styles to be passed to the withStyles HOC\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    galleryContainer: {\n      alignItems: 'flex-start',\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      overflowX: 'hidden',\n      overflowY: 'scroll',\n      padding: '50px 0 50px 20px',\n      width: '100%'\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps), withPlugins('GalleryView') // further HOC go here\n);\nexport default enhance(GalleryView);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}